<div class="modal-content">
  <div class="modal-header">
    <div id="modal-title" style="display:flex;justify-content:center;text-align:center;">
      <h3 class="modal-title" id="myModalLabel"><%= "Categories" %></h3>
    </div>
    <button type="button" class="btn btn-edit-icon" data-dismiss="modal" aria-label="Close"><i class="fas fa-times"></i></button>
  </div>
  <div class="modal-body" id="modalNewBookinBody" style='display:flex;flex-direction:column;align-items:center;'>
    <%= simple_form_for [@training, @training_workshop] do |f| %>
      <div id='checkbox' style=" display:flex;justify-content:space-between;flex-direction:column;">
        <% Category.all.each do |category| %>
          <% unless category.workshops.empty?  %>
            <p><%= category.title %></p>
            <%= collection_check_boxes(:training, :workshop_ids, Workshop.joins(:workshop_categories).where(workshop_categories: {category_id: category.id} ), :id, :title) do |b| %>
              <%= b.label class: 'label-checkbox', style: 'color:black;' do %>
                <%= b.check_box + b.text %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
        <p>Others</p>
        <%= collection_check_boxes(:training, :workshop_ids, Workshop.left_joins(:workshop_categories).where(workshop_categories: {id: nil} ), :id, :title) do |b| %>
          <%= b.label class: 'label-checkbox', style: 'color:black;' do %>
            <%= b.check_box + b.text %>
          <% end %>
        <% end %>
      </div>
      <script>
        $('#checkbox input:checkbox:checked').parent().toggleClass('checked-box');
        $('#checkbox input:checkbox').change(function () {
          $(this).parent().toggleClass('checked-box');
        });
      </script>
      <div style="display:flex;justify-content:center;margin-top:30px;">
        <%= button_tag :submit, class: 'btn btn-edit-green btn-edit-icon' do %>
          <i class="fas fa-save"></i>
        <% end %>
      </div>
    <% end %>
  </div>
</div>

