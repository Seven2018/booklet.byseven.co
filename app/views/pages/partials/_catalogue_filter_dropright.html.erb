<div class="organisation-filter-controls">
  <div class='organisation-filter-controls-title'>
    <i class="fas fa-filter fa-2x"></i>
    <h2>Filter options</h2>
  </div>
  <div class="organisation-filter-controls-buttons">
    <div class="btn-icon" onclick='closeFilter();'>
      <i class="fas fa-times"></i>
    </div>
  </div>
</div>
<%= simple_form_for :filter_catalogue, url: catalogue_path, method: :get, input_html: {multipart: true}, remote: true do |f| %>
    <div class="organisation-filter-block">
      <div class="organisation-filter-block-title">
        <div>
          <p>Folders</p>
          <div class="organisation-filter-block-title-buttons">
            <p onclick='clearFilter(this);'>Clear</p>
            <div class="btn-icon" onclick='toggleTagCategoryDropdown(this);'>
              <i class="fas fa-angle-down" data-rotated='0'></i>
            </div>
          </div>
        </div>
      </div>
      <div class="organisation-filter-block-checkboxes">
        <% folder_collection = Category.where_exists(:folder_categories).order(title: :asc) %>
        <% if folder_collection.empty? %>
          <p>No categories to display'</p>
        <% end %>
        <%= f.input :category, collection: folder_collection, as: :check_boxes, legend_tag: false, label: false, value_method: lambda { |category| "#{category.id}" }, label_method: lambda { |category| "#{category.title}"}, input_html: {onclick: 'autoSubmit(this);'} %>
      </div>
    </div>
    <div class="organisation-filter-block">
      <div class="organisation-filter-block-title">
        <div>
          <p>Workshops</p>
          <div class="organisation-filter-block-title-buttons">
            <p onclick='clearFilter(this);'>Clear</p>
            <div class="btn-icon" onclick='toggleTagCategoryDropdown(this);'>
              <i class="fas fa-angle-down" data-rotated='0'></i>
            </div>
          </div>
        </div>
      </div>
      <div class="organisation-filter-block-checkboxes">
        <% content_collection = Category.where_exists(:content_categories).order(title: :asc) %>
        <% if content_collection.empty? %>
          <p>No categories to display'</p>
        <% end %>
        <%= f.input :category, collection: content_collection, as: :check_boxes, legend_tag: false, label: false, value_method: lambda { |category| "#{category.id}" }, label_method: lambda { |category| "#{category.title}"}, input_html: {onclick: 'autoSubmit(this);'} %>
      </div>
    </div>
  <%= f.hidden_field :searched %>
  <%= f.submit 'Filter', class: 'hidden hidden-submit' %>
<% end %>
<div class="centered-item" style='margin-top: 2rem;'>
  <div class="btn-white-border" onclick='resetFilter()'>
    <i class="fas fa-times-circle"></i>
    <p>Reset Filter</p>
  </div>
</div>
