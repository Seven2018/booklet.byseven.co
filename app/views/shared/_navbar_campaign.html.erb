<div class="navbar navbar-expand-sm navbar-light navbar__blue px-2rem">

  <div class="flex-row-between-centered">
    <a class='flex-row-center-centered height-5rem width-5rem bkt-bg-white bkt-bg-dark-blue-hover bkt-blue bkt-white-hover bkt-box-shadow-compact rounded-25px' href="/home">
      <span class="iconify fs-2_4rem" data-icon="bxs:home"></span>
    </a>

    <% if CampaignPolicy.new(current_user, nil).my_interviews? %>
      <%= link_to my_interviews_path do %>
        <div class="navbar-buttons
          <%= 'navbar-buttons--active' if @controller_action == :campaigns_my_interviews %>
          ">
          <h4 title='My interviews'>My interviews</h4>
        </div>
      <% end %>
    <% end %>

    <% if CampaignPolicy.new(current_user, nil).my_team_interviews? %>
      <%= link_to my_team_interviews_path do %>
        <div class="navbar-buttons
          <%= 'navbar-buttons--active' if @controller_action == :campaigns_my_team_interviews %>
          ">
          <h4 title='My team interviews'>My team interviews</h4>
        </div>
      <% end %>
    <% end %>

    <% if Navigation::InterviewsAdminLink.new(user: current_user).should_render? %>
      <button class="left-buttons">
        <div class="navbar-buttons
          <%= 'navbar-buttons--active' if %i[campaigns_index interview_forms_index reports_index].include?(@controller_action) %>">
          <h4>
            <%= render_component Navigation::InterviewsAdminLink.new(user: current_user) %>
          </h4>
        </div>
      </button>
    <% end %>

    <% if CampaignPolicy.new(current_user, nil).create? %>
      <%= link_to edit_campaign_draft_settings_path, class: 'bkt-blue-hover bkt-bg-white-hover bkt-btn-light-blue ml-2rem', data: {
        handle: 'create-campaign-cta'
      } do  %>
        Create Campaign
      <% end %>
    <% end %>

  </div>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">

    <ul class="flex-row-between-centered">

      <div class="mr-1rem">
        <%= render_component AsClAssetComponent.new(model: current_user.company, asset: :dark_bg_logo) %>
      </div>

      <%= render_component NavbarAppMenuComponent.new(user: current_user, color: 'bkt-white', hover_background_color: 'bkt-bg-dark-blue-hover') %>

      <%= render_component NavbarUserProfileComponent.new(user: current_user) %>

    </ul>

  </div>

</div>

<% if @multi_step_form_navbar_content.present? %>
  <div class="navbar-admin">

    <div class="pos-abs"
         style="top: 1.75rem; left: 2rem;">
      <%= render_component Buttons::BackButton.new(fallback: campaigns_path) %>
    </div>

    <div class="navbar-admin__button">
      <h4><%= @multi_step_form_navbar_content %></h4>
    </div>

  </div>
<% end %>

<% if @show_navbar_admin && Navigation::InterviewsAdminLink.new(user: current_user).should_render? %>
  <div class="navbar-admin  navbar-admin-campaigns">
    <% klass = 'navbar-admin__button' %>
    <% active_klass = "navbar-admin__button--active" %>

    <% if CampaignPolicy.new(current_user, nil).create? %>
      <%= link_to campaigns_path,
        class: "#{klass} #{active_klass if @controller_action == :campaigns_index} rounded-10px bkt-bg-light-grey2-hover" do %>
        <h4>Campaigns</h4>
      <% end %>
    <% end %>

    <% if InterviewFormPolicy.new(current_user, nil).create? %>
      <%= link_to interview_forms_path,
        class: "#{klass} #{active_klass if @controller_action == :interview_forms_index} rounded-10px bkt-bg-light-grey2-hover" do %>
        <h4>Templates</h4>
      <% end %>
    <% end %>

    <% if InterviewReportPolicy.new(current_user, nil).create? %>
      <%= link_to interviews_reports_path,
        class: "#{klass} #{
          active_klass if
            @controller_action == :reports_index ||
            @controller_action == :reports_new
        } rounded-10px bkt-bg-light-grey2-hover" do %>
        <h4>Report</h4>
      <% end %>
    <% end %>
  </div>
<% end %>
