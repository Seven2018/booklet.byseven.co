<div class="navbar navbar-expand-sm navbar-light">
  <div class="navbar-controls-left dropdown show">
    <a class="navbar-icon dropdown-toggle dropdown-notification-menu" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="far fa-bell"></i></a>
    <% unless Notification.where(user_id: current_user.id, status: 'Unread').empty? %>
      <div class="navbar-notification-indicator"><i class="fas fa-circle"></i></div>
    <% end %>
    <div class="dropdown-menu" id='dropdown-notification-list' aria-labelledby="dropdownMenuLink">
      <%= render 'shared/notifications' %>
    </div>
  </div>
  <div class="navbar-controls-right">
    <% if user_signed_in? %>
      <%= link_to "Log out", destroy_user_session_path, method: :delete, class: "nav-link" %>
    <% else %>
      <%= link_to "Login", new_user_session_path, class: "nav-link" %>
    <% end %>
  </div>
</div>
<script>
  $('.dropdown-menu').on('click', function(event){
    // The event won't be propagated up to the document NODE and
    // therefore delegated events won't be fired
    event.stopPropagation();
});
</script>
