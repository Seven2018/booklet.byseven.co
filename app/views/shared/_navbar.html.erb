<div class="navbar navbar-expand-sm navbar-light">
  <div class="navbar-controls-left dropdown show">
    <a class="navbar-icon dropdown-toggle dropdown-notification-menu" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="far fa-bell"></i></a>
    <% unless Notification.where(user_id: current_user.id, status: 'Unread').empty? %>
      <div class="navbar-notification-indicator"><i class="fas fa-circle"></i></div>
    <% end %>
    <div class="dropdown-menu" id='dropdown-notification-list' aria-labelledby="dropdownMenuLink">
      <%= render 'shared/notifications' %>
    </div>
  </div>
  <div class="navbar-controls-right flex-row-between-centered">
    <div class="dropdown show">
      <a class="navbar-user-card dropdown-toggle flex-row-between-centered" href="#" role="button" id="dropdownMenuLogout" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <div>
          <h6><%= current_user.firstname %></h6>
          <h6><%= current_user.lastname %></h6>
        </div>
        <img src="<%= current_user.picture %>" alt="<%= current_user.fullname %>" class='avatar-sm'>
      </a>
      <div class="dropdown-menu" id='dropdown-notification-list' aria-labelledby="dropdownMenuLogout">
        <%= link_to "Log out", destroy_user_session_path, method: :delete %>
      </div>
    </div>
  </div>
</div>
<!-- <script>
  $('.dropdown-menu').on('click', function(event){
    // The event won't be propagated up to the document NODE and
    // therefore delegated events won't be fired
    event.stopPropagation();
});
</script> -->
