document.querySelector('.template-show-lines').innerHTML = '<%= j (render("interview_forms/edit/questions_index", template: @template)) %>';
document.querySelector('#template-show-container-left').innerHTML = '<%= j (render("interview_forms/partials/show_summary", template: @template, page: "edit")) %>';
target = document.querySelector('#item-<%= @question.position %>').querySelector('.line-title');
toggleMod(target);

document.querySelectorAll('.trix-content').forEach((trix) => {
  if (trix.parentNode.querySelector('.trix_editor') == null) {
    trix.value = ''
  } else {
    trix.value = trix.parentNode.querySelector('.trix_editor').value
  }
  trix.addEventListener('click', (event) => {
    window.addEventListener('click', function(e) {
      if (outsideClick(e, trix)) {
        form = trix.closest('form')
        form.querySelector('.hidden-submit').click();
        this.removeEventListener('click', arguments.callee, false);
      }
    });
  })
  trix.addEventListener('keyup', (event) => {
    trix.parentNode.querySelector('.trix_editor').value = trix.value
  })
})
