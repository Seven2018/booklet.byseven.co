<div id="index-controls" class="flex-row-start-centered">
  <h3><%= "#{@workshop.title}" %></h3>
</div>
<div class='flex-column-centered'>
  <% @workshop.mods.order(position: :asc).each do |mod| %>
    <div class="workshop-show-content">
      <div class="workshop-show-content-header flex-row-between-centered">
        <a name="<%= mod.id %>" class="workshop-show-view-mode-anchor"></a>
        <p><%= mod.title %></p>
        <p><%= "#{mod.duration}min" %></p>
      </div>
      <% unless mod.document.empty? && mod.media.empty? %>
        <div class="workshop-show-content-attached flex-row-between-start">
          <% if mod.document.include?('presentation/d/e') %>
            <iframe src="<%= mod.document.gsub(/pub/, 'embed') %>" frameborder="0" width="500" height="250" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
          <% elsif mod.document.present? %>
            <a href="<%= mod.document %>" target="_blank"><i class="fas fa-paperclip"></i> Document</a>
          <% else %>
            <a href=""></a>
          <% end %>
          <% if mod.media.present? %>
            <div class="workshop-show-content-attached-video">
              <%= embed_video(mod.media) %>
            </div>
          <% else %>
            <div class="workshop-show-content-attached-video">
              <img src="">
            </div>
          <% end %>
        </div>
      <% end %>
      <div class="workshop-show-content-main-view-mode">
        <%= mod.content.html_safe %>
      </div>
    </div>
  <% end %>
</div>

