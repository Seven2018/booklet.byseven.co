required_answers = document.querySelectorAll('#interview_answer_answer:required, #interview_answer_objective:required')
submit_buttons = document.querySelectorAll('#submit-interview')
link = document.getElementById('submit-interview-link')
status_to_update = document.getElementById('xhr-form-status-btn')

submit_buttons.forEach((button) => {
  if (<%= @fully_answered %> && button != null) {
    button.classList.remove('btn-blue-disabled')
    button.disabled = false
    link.href = link.getAttribute('data-url')
  } else if (button != null) {
    button.classList.add('btn-blue-disabled')
    button.disabled = true
    link.href = ''
  }
})

required_answers.forEach((input) => {
  if (input.value == '') {
    submit_buttons.forEach((button) => {
      button.classList.add('btn-blue-disabled')
      button.disabled = true
      link.href = ''
    })
    return
  }
})

status_to_update.classList.remove('bkt-yellow')
status_to_update.classList.add('bkt-green')
status_to_update.innerText = 'Up to date'
