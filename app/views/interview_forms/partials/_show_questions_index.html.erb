<% template.interview_questions.order(position: :asc).each do |question| %>
  <% if question.question_type == 'separator' %>
    <% if page == 'edit' %>
      <div class="content-text active">
        <div class="content-show-view-question-anchor" id="anchor-<%= question.id %>"></div>
        <div class="line-top">
          <div class="line-title" onclick='toggleMod(this);'>
            <i class="fas fa-angle-down" data-rotated='0'></i>
            <p>Separator</p>
          </div>
          <div class="line-controls">
          <% if ['Super Admin', 'Account Owner', 'HR'].include?(current_user.access_level) && !params[:content_access].present? %>
            <% if question.position == 1 %>
              <a disabled class="line-move-up" style='cursor: default;'>
                <i class="fas fa-arrow-up" style='color:#5B5959;'></i>
              </a>
            <% else %>
              <%= link_to move_up_interview_question_path(question), class: 'line-move-up', remote: true do %>
                <i class="fas fa-arrow-up"></i>
              <% end %>
            <% end %>
            <% if question.position >= template.interview_questions.count %>
              <a disabled class="line-move-down" style='cursor: default;'>
                <i class="fas fa-arrow-down" style='color:#5B5959;'></i>
              </a>
            <% else %>
              <%= link_to move_down_interview_question_path(question), class: 'line-move-down', remote: true do %>
                <i class="fas fa-arrow-down"></i>
              <% end %>
            <% end %>
            <%= link_to interview_question_path(question), method: :delete, class: 'line-delete', data: {confirm: 'Are you sure ?'}, remote: true do %>
              <i class="far fa-trash-alt" id='line-delete' data-toggle='tooltip' title='Delete'></i>
            <% end %>
          <% end %>
          </div>
        </div>
        <%= simple_form_for question, remote: true do |f| %>
          <%= f.input :question, placeholder: '*Required', label: 'Title', input_html: {onclick: 'saveQuestion(this)', autocomplete: 'off'}, required: true %>
          <%= f.input :description, placeholder: 'Description (optional)', label: false, onclick: 'saveQuestion(this)' %>
          <%= f.submit '', class: 'hidden-submit hidden' %>
        <% end %>
      </div>
    <% else %>
      <div class='questions'>
        <div class="content-show-view-question-anchor" id="anchor-<%= question.id %>"></div>
        <div class="form-row line-type">
          <div class="form-group col-9">
            <h3 class='bolder'><%= question.question %></h3>
          </div>
        </div>
        <div class="form-row line-content">
          <div class="form-group col-12">
            <%= question.description %>
          </div>
        </div>
      </div>
    <% end %>
  <% elsif question.question_type == 'open_question' %>
    <% if page == 'edit' %>
      <div class="content-text active">
        <div class="content-show-view-question-anchor" id="anchor-<%= question.id %>"></div>
        <div class="line-top">
          <div class="line-title" onclick='toggleMod(this);'>
            <i class="fas fa-angle-down" data-rotated='0'></i>
            <p>Open Question</p>
          </div>
          <div class="line-controls">
          <% if ['Super Admin', 'Account Owner', 'HR'].include?(current_user.access_level) && !params[:content_access].present? %>
            <% if question.position == 1 %>
              <a disabled class="line-move-up" style='cursor: default;'>
                <i class="fas fa-arrow-up" style='color:#5B5959;'></i>
              </a>
            <% else %>
              <%= link_to move_up_interview_question_path(question), class: 'line-move-up', remote: true do %>
                <i class="fas fa-arrow-up"></i>
              <% end %>
            <% end %>
            <% if question.position >= template.interview_questions.count %>
              <a disabled class="line-move-down" style='cursor: default;'>
                <i class="fas fa-arrow-down" style='color:#5B5959;'></i>
              </a>
            <% else %>
              <%= link_to move_down_interview_question_path(question), class: 'line-move-down', remote: true do %>
                <i class="fas fa-arrow-down"></i>
              <% end %>
            <% end %>
            <%= link_to interview_question_path(question), method: :delete, class: 'line-delete', data: {confirm: 'Are you sure ?'}, remote: true do %>
              <i class="far fa-trash-alt" id='line-delete' data-toggle='tooltip' title='Delete'></i>
            <% end %>
          <% end %>
          </div>
        </div>
        <%= simple_form_for question, remote: true do |f| %>
          <%= f.input :question, placeholder: '*Required', label: 'Question', input_html: {onclick: 'saveQuestion(this)', autocomplete: 'off'}, required: true %>
          <%= f.input :description, placeholder: 'Description (optional)', label: false, onclick: 'saveQuestion(this)' %>
          <%= f.submit '', class: 'hidden-submit hidden' %>
        <% end %>
      </div>
    <% else %>
      <div class='questions'>
        <div class="content-show-view-question-anchor" id="anchor-<%= question.id %>"></div>
        <div class="form-row line-type line-type__no-separator">
          <div class="form-group col-9">
            <h3><%= question.question %></h3>
          </div>
        </div>
        <div class="form-row line-content">
          <div class="form-group col-12">
            <%= question.description %>
          </div>
        </div>
      </div>
    <% end %>
  <% elsif question.question_type == 'rating' %>
    <% if page == 'edit' %>
      <div class="content-text active">
        <div class="content-show-view-question-anchor" id="anchor-<%= question.id %>"></div>
        <div class="line-top">
          <div class="line-title" onclick='toggleMod(this);'>
            <i class="fas fa-angle-down" data-rotated='0'></i>
            <p>Rating</p>
          </div>
          <div class="line-controls">
          <% if ['Super Admin', 'Account Owner', 'HR'].include?(current_user.access_level) && !params[:content_access].present? %>
            <% if question.position == 1 %>
              <a disabled class="line-move-up" style='cursor: default;'>
                <i class="fas fa-arrow-up" style='color:#5B5959;'></i>
              </a>
            <% else %>
              <%= link_to move_up_interview_question_path(question), class: 'line-move-up', remote: true do %>
                <i class="fas fa-arrow-up"></i>
              <% end %>
            <% end %>
            <% if question.position >= template.interview_questions.count %>
              <a disabled class="line-move-down" style='cursor: default;'>
                <i class="fas fa-arrow-down" style='color:#5B5959;'></i>
              </a>
            <% else %>
              <%= link_to move_down_interview_question_path(question), class: 'line-move-down', remote: true do %>
                <i class="fas fa-arrow-down"></i>
              <% end %>
            <% end %>
            <%= link_to interview_question_path(question), method: :delete, class: 'line-delete', data: {confirm: 'Are you sure ?'}, remote: true do %>
              <i class="far fa-trash-alt" id='line-delete' data-toggle='tooltip' title='Delete'></i>
            <% end %>
          <% end %>
          </div>
        </div>
        <%= simple_form_for question, remote: true do |f| %>
          <%= f.input :question, placeholder: '*Required', label: 'Question', input_html: {onclick: 'saveQuestion(this)', autocomplete: 'off'}, required: true %>
          <%= f.input :description, placeholder: 'Description (optional)', input_html: {onclick: 'saveQuestion(this)', autocomplete: 'off'}, label: false %>
          <div class="add-rating__select">
            <%= f.input :options, as: :select, collection: (1..10), label: 'Max rating', input_html: {onchange: 'saveQuestion(this)'}, selected: question.options.keys.first %>
          </div>
          <%= f.submit '', class: 'hidden-submit hidden' %>
        <% end %>
      </div>
    <% else %>
      <div class='questions'>
        <div class="content-show-view-question-anchor" id="anchor-<%= question.id %>"></div>
        <div class="form-row line-type line-type__no-separator">
          <div class="form-group col-9">
            <h3><%= question.question %></h3>
          </div>
        </div>
        <div class="form-row line-content">
          <div class="form-group col-12">
            <%= question.description %>
          </div>
        </div>
      </div>
    <% end %>
  <% elsif question.question_type == 'mcq' %>
    <% if page == 'edit' %>
      <div class="content-quiz active">
        <div class="content-show-view-question-anchor" id="anchor-<%= question.id %>"></div>
        <div class="line-top">
          <div class="line-title" onclick='toggleMod(this);'>
            <i class="fas fa-angle-down" data-rotated='0'></i>
            <p>MCQ</p>
          </div>
          <div class="line-controls">
            <% if ['Super Admin', 'Account Owner', 'HR'].include?(current_user.access_level) && !params[:content_access].present? %>
              <% if question.position == 1 %>
                <a disabled class="line-move-up" style='cursor: default;'>
                  <i class="fas fa-arrow-up" style='color:#5B5959;'></i>
                </a>
              <% else %>
                <%= link_to move_up_interview_question_path(question), class: 'line-move-up', remote: true do %>
                  <i class="fas fa-arrow-up"></i>
                <% end %>
              <% end %>
              <% if question.position >= template.interview_questions.count %>
                <a disabled class="line-move-down" style='cursor: default;'>
                  <i class="fas fa-arrow-down" style='color:#5B5959;'></i>
                </a>
              <% else %>
                <%= link_to move_down_interview_question_path(question), class: 'line-move-down', remote: true do %>
                  <i class="fas fa-arrow-down"></i>
                <% end %>
              <% end %>
              <%= link_to interview_question_path(question), method: :delete, class: 'line-delete', data: {confirm: 'Are you sure ?'}, remote: true do %>
                <i class="far fa-trash-alt" id='line-delete' data-toggle='tooltip' title='Delete'></i>
              <% end %>
            <% end %>
          </div>
        </div>
        <%= simple_form_for question, remote: true do |f| %>
          <%= f.input :question, placeholder: '*Required', label: 'Question', input_html: {onclick: 'saveQuestion(this)', autocomplete: 'off'}, required: true %>
          <%= f.input :description, placeholder: 'Description (optional)', input_html: {onclick: 'saveQuestion(this)', autocomplete: 'off'}, label: false %>
          <%= f.submit '', class: 'hidden-submit hidden' %>
        <% end %>
        <label>Options</label>
        <div id='mcq-<%= question.id %>'>
          <%= render 'interview_forms/partials/show_mcq', question: question %>
        </div>
      </div>
    <% else %>
      <div class="questions">
        <div class="content-show-view-question-anchor" id="anchor-<%= question.id %>"></div>
        <div class="form-row line-type line-type__no-separator">
          <div class="form-group col-9">
            <h3><%= question.question %></h3>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>
<% end %>

<div class="template-add-lines">

</div>
