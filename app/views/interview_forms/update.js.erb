if (<%= @update_description %> == false) {
  document.querySelector('#template-show__lines').innerHTML = '<%= j render("interview_forms/edit/edit_questions_index", template: @template) %>';

  document.querySelectorAll('.trix-content').forEach((trix) => {
    if (trix.parentNode.querySelector('.trix_editor') == null) {
      trix.innerHTML = ''
    } else {
      trix.innerHTML = trix.parentNode.querySelector('.trix_editor').value
    }
    trix.addEventListener('keyup', (event) => {
      updateStatusMessage("Updating...")
      if (!saving) {
        saving = true
        setTimeout(function(){
          trix.parentNode.querySelector('.trix_editor').value = trix.innerHTML
          trix.closest('form').querySelector('.hidden-submit').click()
          saving = false
        }, 1000)
      }
    })
  })
}

setTimeout(function(){updateStatusMessage('Up to date')}, 1000)

