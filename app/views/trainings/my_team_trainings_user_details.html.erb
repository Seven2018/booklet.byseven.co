<div id="user-trainings__container" class='flex-column-start-centered bkt-bg-light-orange pos-rel bkt-box-shadow-compact-top' style='min-height: calc(100vh - 7.5rem);'>

  <div class="bkt-bg-white rounded-20px p-2rem bkt-box-shadow pos-rel" style='width: 75%; max-width: 85rem; margin-top: 9rem;'>
    <%= render_component BackComponent.new(fallback: my_team_trainings_path) %>

    <div class='flex-column-start-centered'>
      <img src="<%= @user.picture %>" alt="<%= @user.fullname %>" class='avatar-large mb-2rem' onerror='this.onerror=null;this.src="<%= asset_url('empty-avatar.png', type: :image) %>";'>
      <p class='fs-2rem font-weight-600 bkt-dark-grey mb-1rem'><%= @user.fullname %></p>
      <p class='fs-1_6rem bkt-light-grey5 mb-1rem'><%= @user.job_title %></p>
    </div>

    <div class="flex-column-start-centered p-2rem " >

      <div class="flex-row-start-centered mb-1rem">

        <div class="flex-row-between-centered">
          <div class="centered-item height-4rem width-4rem rounded-20px bkt-bg-light-orange mr-1rem">
            <svg width="25" height="25" viewBox="0 0 33 28" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M16.5 0L0 7.53846L4.4 9.47692V13.1385C3.08 13.5692 2.2 14.8615 2.2 16.1538C2.2 17.4462 3.08 18.7385 4.4 19.1692V19.3846L2.42 23.9077C1.76 25.8462 2.2 28 5.5 28C8.8 28 9.24 25.8462 8.58 23.9077L6.6 19.3846C7.92 18.7385 8.8 17.6615 8.8 16.1538C8.8 14.6462 7.92 13.5692 6.6 13.1385V10.5538L16.5 15.0769L33 7.53846L16.5 0ZM26.18 14L16.28 18.3077L11 15.9385V16.1538C11 17.6615 10.34 18.9538 9.24 20.0308L10.56 23.0462V23.2615C10.78 24.1231 11 24.9846 10.78 25.8462C12.32 26.4923 14.08 26.9231 16.28 26.9231C23.54 26.9231 26.18 22.6154 26.18 20.4615V14V14Z" fill="#EF8C64"/>
            </svg>
          </div>
          <p class='fs-1_6rem font-weight-600 bkt-dark-grey'>Trainings</p>
        </div>

      </div>

      <div class="flex-row-between-centered px-5rem">

        <div id='command__team_trainings-completed'
             class="command-tab flex-column-between-centered bkt-bg-light-orange active rounded-5px p-1rem mr-1rem cursor-pointer"
             style='height: 14rem; width: 14rem; border: 2px solid transparent;'
             onclick="displaySelectedTab(this);">
          <p class='fs-3rem'>ðŸ™Œ</p>
          <p class='fs-3rem font-weight-600 bkt-orange'><%= @attendee_status[:done] %></p>
          <p class='width-70 fs-1_4rem font-weight-500 text-center'>Trainings done</p>
        </div>

        <div id='command__team_trainings-current'
             class="command-tab flex-column-between-centered bkt-bg-light-orange rounded-5px p-1rem ml-1rem cursor-pointer"
             style='height: 14rem; width: 14rem; border: 2px solid transparent;'
             onclick="displaySelectedTab(this);">
          <p class='fs-3rem'>ðŸ‘‰</p>
          <p class='fs-3rem font-weight-600 bkt-orange'><%= @attendee_status[:to_do] %></p>
          <p class='width-70 fs-1_4rem font-weight-500 text-center'>Trainings to do</p>
        </div>

      </div>

    </div>

    <div id='display__team_trainings-completed' class="display-tab width-100">
      <%= render 'users/show/show_attendees_list', attendees: @attendees_done %>
    </div>

    <div id='display__team_trainings-current' class="display-tab width-100 hidden">
      <%= render 'users/show/show_attendees_list', attendees: @attendees_to_do %>
    </div>

  </div>

</div>

<!----------->
<!-- STYLE -->
<!----------->
<style>
    .bkt-bg-light-blue.active { border: 2px solid #3177B7 !important; }
    .bkt-bg-light-orange.active   { border: 2px solid #EF8C64 !important; }
</style>

<!---------------->
<!-- JAVASCRIPT -->
<!---------------->
<script>
    function displaySelectedTab(element) {
        target = element.id.split('__')[1]
        selected_tab = document.querySelector('#display__' + target)
        current_button = document.querySelector('.command-tab.active')
        current_tab = document.querySelector('.display-tab:not(.hidden)')

        current_button.classList.remove('active')
        current_tab.classList.add('hidden')
        element.classList.add('active')
        selected_tab.classList.remove('hidden')
    }
</script>
